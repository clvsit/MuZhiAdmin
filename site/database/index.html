<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>数据库设计 - 木直小程序后台管理系统文档</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "\u6570\u636e\u5e93\u8bbe\u8ba1";
    var mkdocs_page_input_path = "database.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> 木直小程序后台管理系统文档</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">首页</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../system/">系统配置模块</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../user/">用户管理模块</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">数据库设计</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#_1">用户管理模块</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#_2">后台用户表</a></li>
        
            <li><a class="toctree-l3" href="#_5">用户权限表</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#_8">系统配置模块</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#_9">菜单栏配置</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#_14">数据管理模块</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#_15">植物分类表</a></li>
        
            <li><a class="toctree-l3" href="#_17">植物详情表</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../zhuanli/">专利相关资料</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">木直小程序后台管理系统文档</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>数据库设计</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>【说明】：</p>
<ol>
<li>为了数据库数据的安全性，基表以及基表的字段都需要加以修改，例如设备表 device -&gt; ndevice，字段 account -&gt; Saccount。</li>
<li>不要直接在基表上进行查询，针对不同的角色和操作，在基表上建立相应的视图。视图的字段名需要重新命名，防止破坏者通过视图的字段得知基表的字段。</li>
</ol>
<p>【注意】：图片地址需要进行商讨之后再定夺其字段长度。</p>
<h2 id="_1">用户管理模块</h2>
<h3 id="_2">后台用户表</h3>
<blockquote>
<p>记录后台管理系统的用户账号信息。</p>
</blockquote>
<p>【基表名-后台员工表】：kadmin</p>
<h4 id="_3">字段描述</h4>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>字段类型</th>
<th>字段长度</th>
<th>是否为空</th>
<th>字段属性</th>
<th>中文名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Eid</td>
<td>char</td>
<td>13</td>
<td>否</td>
<td>主键</td>
<td>员工号</td>
<td>唯一标识员工信息</td>
</tr>
<tr>
<td>Vaccount</td>
<td>char</td>
<td>16</td>
<td>否</td>
<td>唯一</td>
<td>员工账号</td>
<td>加密后的用户账号信息</td>
</tr>
<tr>
<td>Bpassword</td>
<td>char</td>
<td>16</td>
<td>否</td>
<td>默认</td>
<td>员工密码</td>
<td>加密后的密码信息，默认为 123456（需加密）</td>
</tr>
<tr>
<td>Iname</td>
<td>varchar</td>
<td>8</td>
<td>否</td>
<td>无</td>
<td>员工姓名</td>
<td>用户的中文姓名</td>
</tr>
<tr>
<td>Nemail</td>
<td>varchar</td>
<td>32</td>
<td>是</td>
<td>无</td>
<td>员工邮箱</td>
<td>用户的邮箱信息</td>
</tr>
<tr>
<td>Lphone</td>
<td>char</td>
<td>11</td>
<td>是</td>
<td>无</td>
<td>手机号码</td>
<td>用户的手机号码</td>
</tr>
<tr>
<td>Vcreater</td>
<td>char</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>登录人</td>
<td>创建该用户的管理员</td>
</tr>
<tr>
<td>KdateCreate</td>
<td>char</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>登录日期</td>
<td>该用户创建的日期，格式为 YYYY-MM-dd HH:mm</td>
</tr>
<tr>
<td>Bauth</td>
<td>int</td>
<td>3</td>
<td>否</td>
<td>外键</td>
<td>权限角色</td>
<td>对应权限表的 Kid 字段</td>
</tr>
<tr>
<td>spare1</td>
<td>varchar</td>
<td>12</td>
<td>否</td>
<td>无</td>
<td>备用字段1</td>
<td>备用字段，留作后续使用</td>
</tr>
<tr>
<td>spare2</td>
<td>varchar</td>
<td>12</td>
<td>否</td>
<td>无</td>
<td>备用字段2</td>
<td>备用字段，留作后续使用</td>
</tr>
<tr>
<td>spare3</td>
<td>varchar</td>
<td>12</td>
<td>否</td>
<td>无</td>
<td>备用字段3</td>
<td>备用字段，留作后续使用</td>
</tr>
</tbody>
</table>
<h4 id="_4">数据示例</h4>
<table>
<thead>
<tr>
<th>Vaccount</th>
<th>Bpassword</th>
<th>Nemail</th>
<th>Lphone</th>
<th>Vcreater</th>
<th>KdateCreate</th>
<th>Bauth</th>
</tr>
</thead>
<tbody>
<tr>
<td>4621d373cade4e83</td>
<td>1c4a54f2a054390d</td>
<td>cexu661712@163.com</td>
<td>17826857056</td>
<td>7bb98050796b649e</td>
<td>2019-01-13 15:43</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>【说明】：</p>
<ul>
<li>Vaccount、Bpassword 和 Vcreater 字段已经通过 md5 进行加密。</li>
</ul>
<h3 id="_5">用户权限表</h3>
<blockquote>
<p>记录后台管理系统用户的各项权限信息。</p>
</blockquote>
<p>【基表名】：pauth</p>
<h4 id="_6">字段描述</h4>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>字段类型</th>
<th>字段长度</th>
<th>是否为空</th>
<th>字段属性</th>
<th>中文名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kid</td>
<td>int</td>
<td>3</td>
<td>否</td>
<td>主键</td>
<td>权限号</td>
<td>唯一标识权限信息，自增长</td>
</tr>
<tr>
<td>Iname</td>
<td>varchar</td>
<td>10</td>
<td>否</td>
<td>无</td>
<td>权限名称</td>
<td>权限的具体中文名称</td>
</tr>
<tr>
<td>MdateCreate</td>
<td>char</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>添加日期</td>
<td>格式：YYYY-MM-DD HH:mm</td>
</tr>
<tr>
<td>SdateModify</td>
<td>char</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>修改日期</td>
<td>格式：YYYY-MM-DD HH:mm</td>
</tr>
<tr>
<td>Fmodifier</td>
<td>char</td>
<td>20</td>
<td>否</td>
<td>无</td>
<td>修改者</td>
<td>修改该记录的最后执行者</td>
</tr>
<tr>
<td>Lcontent</td>
<td>varchar</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>权限内容</td>
<td>记录权限所具有的功能</td>
</tr>
</tbody>
</table>
<h4 id="_7">数据示例</h4>
<table>
<thead>
<tr>
<th>Kid</th>
<th>Iname</th>
<th>MdateCreate</th>
<th>SdateModify</th>
<th>Fmodifier</th>
<th>Lcontent</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>数据管理人员（账号）</td>
<td>2019-01-09 15:31</td>
<td>2019-01-09 15:31</td>
<td>测试 1 号</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>系统测试人员（账号）</td>
<td>2019-01-09 15:31</td>
<td>2019-01-09 15:31</td>
<td>测试 1 号</td>
<td>0|1</td>
</tr>
</tbody>
</table>
<h2 id="_8">系统配置模块</h2>
<h3 id="_9">菜单栏配置</h3>
<blockquote>
<p>记录后台管理系统左侧菜单栏的内容。</p>
</blockquote>
<p>【基表名-菜单表】：bmenu</p>
<h4 id="_10">字段描述</h4>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>字段类型</th>
<th>字段长度</th>
<th>是否为空</th>
<th>字段属性</th>
<th>中文名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mid</td>
<td>int</td>
<td>3</td>
<td>否</td>
<td>主键</td>
<td>菜单号</td>
<td>唯一标识菜单信息，自增长</td>
</tr>
<tr>
<td>Uname</td>
<td>varchar</td>
<td>8</td>
<td>否</td>
<td>无</td>
<td>菜单名称</td>
<td>菜单的中文名称</td>
</tr>
<tr>
<td>Licon</td>
<td>char</td>
<td>8</td>
<td>否</td>
<td>无</td>
<td>菜单图标</td>
<td>菜单的图标</td>
</tr>
</tbody>
</table>
<h4 id="_11">数据示例</h4>
<table>
<thead>
<tr>
<th>Mid</th>
<th>Uname</th>
<th>Licon</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>用户管理</td>
<td>(&amp;#xe6b8);</td>
</tr>
<tr>
<td>2</td>
<td>数据管理</td>
<td>(&amp;#xe723);</td>
</tr>
<tr>
<td>3</td>
<td>系统配置</td>
<td>(&amp;#xe6da);</td>
</tr>
</tbody>
</table>
<p>【基表名-菜单项表】：rmenuitem</p>
<h4 id="_12">字段描述</h4>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>字段类型</th>
<th>字段长度</th>
<th>是否为空</th>
<th>字段属性</th>
<th>中文名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Gid</td>
<td>int</td>
<td>3</td>
<td>否</td>
<td>主键</td>
<td>菜单项号</td>
<td>唯一标识菜单项信息，自增长</td>
</tr>
<tr>
<td>Wname</td>
<td>varchar</td>
<td>8</td>
<td>否</td>
<td>无</td>
<td>菜单项名称</td>
<td>菜单项的中文名称</td>
</tr>
<tr>
<td>Turl</td>
<td>varchar</td>
<td>32</td>
<td>否</td>
<td>无</td>
<td>链接地址</td>
<td>导向菜单项对应的页面地址</td>
</tr>
<tr>
<td>Vbelong</td>
<td>int</td>
<td>3</td>
<td>否</td>
<td>外键</td>
<td>所属菜单</td>
<td>菜单项表的外键，对应菜单表的 Mid 字段</td>
</tr>
</tbody>
</table>
<h4 id="_13">数据示例</h4>
<table>
<thead>
<tr>
<th>Mid</th>
<th>Uname</th>
<th>Turl</th>
<th>Vbelong</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>权限管理</td>
<td>./page/user/auth-list</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>用户列表</td>
<td>./page/user/admin-list</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>植物分类</td>
<td>./page/data/type-list</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>植物列表</td>
<td>./page/data/plant-list</td>
<td>2</td>
</tr>
</tbody>
</table>
<h2 id="_14">数据管理模块</h2>
<h3 id="_15">植物分类表</h3>
<blockquote>
<p>植物百科模块中植物的分类。</p>
</blockquote>
<p>【基表名】：kplanttype</p>
<h4 id="_16">字段描述</h4>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>字段类型</th>
<th>字段长度</th>
<th>是否为空</th>
<th>字段属性</th>
<th>中文名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ptid</td>
<td>int</td>
<td>2</td>
<td>否</td>
<td>主键</td>
<td>植物分类号</td>
<td>唯一标志植物分类</td>
</tr>
<tr>
<td>Jname</td>
<td>varchar</td>
<td>10</td>
<td>否</td>
<td>唯一</td>
<td>植物分类名</td>
<td>植物分类的具体名称</td>
</tr>
<tr>
<td>Tbrief</td>
<td>varchar</td>
<td>128</td>
<td>否</td>
<td>无</td>
<td>植物分类简介</td>
<td>植物分类的简介</td>
</tr>
</tbody>
</table>
<h3 id="_17">植物详情表</h3>
<blockquote>
<p>植物百科中植物的具体属性，包括中文名称、学名等信息。</p>
</blockquote>
<p>【基表名】：nplant</p>
<h4 id="_18">字段描述</h4>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>字段类型</th>
<th>字段长度</th>
<th>是否为空</th>
<th>字段属性</th>
<th>中文名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pid</td>
<td>int</td>
<td>6</td>
<td>否</td>
<td>主键</td>
<td>植物号</td>
<td>唯一标志植物</td>
</tr>
<tr>
<td>Ptid</td>
<td>int</td>
<td>2</td>
<td>否</td>
<td>外键</td>
<td>植物分类号</td>
<td>对应植物分类表的 Ptid</td>
</tr>
<tr>
<td>Cname</td>
<td>varchar</td>
<td>12</td>
<td>否</td>
<td>唯一</td>
<td>植物名称</td>
<td>植物的具体名称，最多12个中文</td>
</tr>
<tr>
<td>Ksname</td>
<td>varchar</td>
<td>20</td>
<td>是</td>
<td>无</td>
<td>植物学名</td>
<td>植物的学名</td>
</tr>
<tr>
<td>Uoname</td>
<td>varchar</td>
<td>48</td>
<td>是</td>
<td>无</td>
<td>植物别名</td>
<td>可以有多个别名</td>
</tr>
<tr>
<td>Dgenera</td>
<td>varchar</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>植物科属</td>
<td>植物的科属，例如唇形科鼠尾草属</td>
</tr>
<tr>
<td>Ndistribution</td>
<td>varchar</td>
<td>128</td>
<td>是</td>
<td>无</td>
<td>产地与分布</td>
<td>植物的产地以及分布</td>
</tr>
<tr>
<td>Hcharacteristics</td>
<td>varchar</td>
<td>128</td>
<td>是</td>
<td>无</td>
<td>生物学特性</td>
<td>植物的生物学特性</td>
</tr>
<tr>
<td>Sadvice</td>
<td>varhcar</td>
<td>128</td>
<td>是</td>
<td>无</td>
<td>养护建议</td>
<td>植物的养护建议</td>
</tr>
<tr>
<td>Rflang</td>
<td>varchar</td>
<td>16</td>
<td>是</td>
<td>无</td>
<td>花语</td>
<td>植物的花语</td>
</tr>
<tr>
<td>Xtemperature</td>
<td>varchar</td>
<td>10</td>
<td>否</td>
<td>无</td>
<td>适宜温度</td>
<td>植物生长的适宜温度，例如23.7</td>
</tr>
<tr>
<td>Wmoisture</td>
<td>varchar</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>适宜水份</td>
<td>植物生长的适宜水份</td>
</tr>
<tr>
<td>Mfertility</td>
<td>varchar</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>适宜肥力</td>
<td>植物生长的适宜肥力</td>
</tr>
<tr>
<td>Ulight</td>
<td>varchar</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>适宜光照</td>
<td>植物生长的适宜光照</td>
</tr>
<tr>
<td>Ypicture</td>
<td>varchar</td>
<td>128</td>
<td>是</td>
<td>默认：default.jpg</td>
<td>植物图片</td>
<td>3~5张关于植物的图片</td>
</tr>
<tr>
<td>OdateCreate</td>
<td>char</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>添加日期</td>
<td>格式：YYYY-MM-DD HH:mm</td>
</tr>
<tr>
<td>IdateModify</td>
<td>char</td>
<td>16</td>
<td>否</td>
<td>无</td>
<td>修改日期</td>
<td>格式：YYYY-MM-DD HH:mm</td>
</tr>
<tr>
<td>Tmodifier</td>
<td>char</td>
<td>20</td>
<td>否</td>
<td>无</td>
<td>修改者</td>
<td>修改该记录的最后执行者</td>
</tr>
</tbody>
</table>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../zhuanli/" class="btn btn-neutral float-right" title="专利相关资料">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../user/" class="btn btn-neutral" title="用户管理模块"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../user/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../zhuanli/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
